services:
  spark-dev:
    build: .
    container_name: spark-construction-dev
    hostname: spark-dev
    ports:
      - "8888:8888"  # Jupyter Lab
      - "4040:4040"  # Spark UI
      - "4041:4041"  # Spark UI (secondary)
    volumes:
      # Mount the entire code directory
      - /home/amiche/Downloads/code:/workspace:rw
    environment:
      - PYTHONPATH=/workspace/new_python
      - SPARK_LOCAL_IP=0.0.0.0
      - JUPYTER_ENABLE_LAB=yes
    working_dir: /workspace
    stdin_open: true
    tty: true
    networks:
      - spark-network

networks:
  spark-network:
    driver: bridge