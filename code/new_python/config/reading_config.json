{
    "_comment": "Configuration des sources de données brutes - Définit quels fichiers lire et comment les interpréter",
    "_note": "Les noms de colonnes doivent correspondre exactement à ceux présents dans les fichiers CSV (sensible à la casse)",
    "_vision_template": "Pour les fichiers mensuels, utiliser {vision} dans le nom permet de cibler automatiquement le mois (ex: 'risque_q45_{vision}.csv' devient 'risque_q45_202512.csv')",
    "_structure": "Organisation : Fichiers mensuels d'abord (dépendent de la période), puis fichiers de référence (stables)",
    "file_groups": {
        "_comment_monthly": "FICHIERS MENSUELS : Données qui changent chaque mois (stockées dans bronze/AAAA/MM/)",
        "ipf": {
            "description": "Fichiers de portefeuille : contiennent les informations sur les polices d'assurance (agents Pôle 1 et courtiers Pôle 3)",
            "file_patterns": [
                "ipf16.csv",
                "ipf36.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*16*",
                    "columns": {
                        "cdpole": "1"
                    }
                },
                {
                    "pattern": "*36*",
                    "columns": {
                        "cdpole": "3"
                    }
                }
            ],
            "schema": "ipf",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9",
                "dateFormat": "dd/MM/yyyy"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ipfm99": {
            "description": "Montants de chiffre d'affaires pour le produit spécifique 01099 (répartis par pôle commercial)",
            "file_patterns": [
                "ipfm199.csv",
                "ipfm399.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*199*",
                    "columns": {
                        "cdpole": "1"
                    }
                },
                {
                    "pattern": "*399*",
                    "columns": {
                        "cdpole": "3"
                    }
                }
            ],
            "schema": "ipfm99",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ipfm0024_1": {
            "description": "Activités par produit pour les agents du Pôle 1",
            "file_patterns": [
                "ipfm0024_1.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*",
                    "columns": {
                        "cdpole": "1"
                    }
                }
            ],
            "schema": "ipfspe_ipfm0024",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ipfm0024_3": {
            "description": "Activités par produit pour les courtiers du Pôle 3",
            "file_patterns": [
                "ipfm0024_3.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*",
                    "columns": {
                        "cdpole": "3"
                    }
                }
            ],
            "schema": "ipfspe_ipfm0024",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ipfm63_1": {
            "description": "IPFM63 - Professional activities (Pole 1 Agent)",
            "file_patterns": [
                "ipfm63_1.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*",
                    "columns": {
                        "cdpole": "1"
                    }
                }
            ],
            "schema": "ipfspe_ipfm63",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ipfm63_3": {
            "description": "IPFM63 - Professional activities (Pole 3 Courtage)",
            "file_patterns": [
                "ipfm63_3.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*",
                    "columns": {
                        "cdpole": "3"
                    }
                }
            ],
            "schema": "ipfspe_ipfm63",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ipfm99_1": {
            "description": "IPFM99 - Generic activities (Pole 1 Agent)",
            "file_patterns": [
                "ipfm99_1.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*",
                    "columns": {
                        "cdpole": "1"
                    }
                }
            ],
            "schema": "ipfspe_ipfm99",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ipfm99_3": {
            "description": "IPFM99 - Generic activities (Pole 3 Courtage)",
            "file_patterns": [
                "ipfm99_3.csv"
            ],
            "dynamic_columns": [
                {
                    "pattern": "*",
                    "columns": {
                        "cdpole": "3"
                    }
                }
            ],
            "schema": "ipfspe_ipfm99",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ird_risk_q45": {
            "description": "IRD Risk Q45 - Risk data with vision {vision}",
            "file_patterns": [
                "ird_risk_q45_{vision}.csv"
            ],
            "schema": "ird_risk_q45",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ird_risk_q46": {
            "description": "IRD Risk Q46 - Risk data with vision {vision}",
            "file_patterns": [
                "ird_risk_q46_{vision}.csv"
            ],
            "schema": "ird_risk_q46",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ird_risk_qan": {
            "description": "IRD Risk QAN - For visions < 202210 with vision {vision}",
            "file_patterns": [
                "ird_risk_qan_{vision}.csv"
            ],
            "schema": "ird_risk_qan",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "ird_suivi_engagements": {
            "description": "IRD Suivi Engagements - NAF 2008 tracking with vision {vision}",
            "file_patterns": [
                "ird_suivi_engagements_{vision}.csv"
            ],
            "schema": "ird_suivi_engagements",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "segmentprdt": {
            "description": "Product segmentation - Monthly vision-dependent with vision {vision}",
            "file_patterns": [
                "segmentprdt_{vision}.csv"
            ],
            "schema": "segmentprdt",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "monthly"
        },
        "_comment_ref": "FICHIERS DE RÉFÉRENCE : Données stables ou versionnées (stockées dans bronze/ref/)",
        "w6_basecli_inv": {
            "description": "Base client cumulative : répertoire des clients et leurs informations",
            "file_patterns": [
                "basecli_inv.csv"
            ],
            "schema": "w6_basecli_inv",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "capitxcu_azec": {
            "description": "AZEC CAPITXCU - Capital data (SMP/LCI)",
            "file_patterns": [
                "capitxcu.csv"
            ],
            "schema": "capitxcu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "cliact14": {
            "description": "CLIENT1 CLACENT1 - Client data generation 14 (SIRET/SIREN)",
            "file_patterns": [
                "clacent1.csv"
            ],
            "schema": "client1",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "cliact3": {
            "description": "CLIENT3 CLACENT3 - Client data generation 3 (SIRET/SIREN)",
            "file_patterns": [
                "clacent3.csv"
            ],
            "schema": "client3",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "constrcu": {
            "description": "CONSTRCU - Construction data (product formulas and site details)",
            "file_patterns": [
                "constrcu.csv"
            ],
            "schema": "constrcu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9",
                "dateFormat": "yyyy-MM-dd"
            },
            "filters": [],
            "location_type": "reference"
        },
        "cproduit": {
            "description": "CPRODUIT - Product reference master data",
            "file_patterns": [
                "cproduit.csv"
            ],
            "schema": "cproduit",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "do_dest": {
            "description": "DO_DEST - Current/latest construction site destination reference",
            "file_patterns": [
                "do_dest.csv"
            ],
            "schema": "do_dest",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "garantcu": {
            "description": "GARANTCU - Guarantee reference data",
            "file_patterns": [
                "garantcu.csv"
            ],
            "schema": "garantcu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "binsee_histo_note_risque": {
            "description": "BINSEE - Euler Hermes risk rating history",
            "file_patterns": [
                "histo_note_risque.csv"
            ],
            "schema": "binsee_histo_note_risque",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9",
                "dateFormat": "dd/MM/yyyy"
            },
            "filters": [],
            "location_type": "reference"
        },
        "catmin": {
            "description": "IMPORT_CATMIN - Category minimum reference",
            "file_patterns": [
                "import_catmin.csv"
            ],
            "schema": "catmin",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "incendcu_azec": {
            "description": "AZEC INCENDCU - NAF codes, PE/RD capitals, activity days",
            "file_patterns": [
                "incendcu.csv"
            ],
            "schema": "incendcu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "isic_lg": {
            "description": "ISIC Local-to-Global mapping - ISIC_CODE_GBL lookup",
            "file_patterns": [
                "isic_lg_202306.csv"
            ],
            "schema": "isic_lg",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "lob": {
            "description": "LOB - Line of Business reference",
            "file_patterns": [
                "lob.csv"
            ],
            "schema": "lob",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "mapping_cdnaf2003_isic": {
            "description": "NAF 2003 to ISIC code mapping",
            "file_patterns": [
                "mapping_cdnaf2003_isic_202305.csv"
            ],
            "schema": "mapping_cdnaf2003_isic",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "mapping_cdnaf2008_isic": {
            "description": "NAF 2008 to ISIC code mapping",
            "file_patterns": [
                "mapping_cdnaf2008_isic_202305.csv"
            ],
            "schema": "mapping_cdnaf2008_isic",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "mapping_isic_const_act": {
            "description": "ISIC mapping for construction activities",
            "file_patterns": [
                "mapping_isic_const_act_202305.csv"
            ],
            "schema": "mapping_isic_const_act",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "mapping_isic_const_cht": {
            "description": "ISIC mapping for construction site destination",
            "file_patterns": [
                "mapping_isic_const_cht_202305.csv"
            ],
            "schema": "mapping_isic_const_cht",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "mpacu_azec": {
            "description": "AZEC MPACU - MPA policy data",
            "file_patterns": [
                "mpacu.csv"
            ],
            "schema": "mpacu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "mulprocu_azec": {
            "description": "AZEC MULPROCU - Multi-risk professional data",
            "file_patterns": [
                "mulprocu.csv"
            ],
            "schema": "mulprocu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "polic_cu_azec": {
            "description": "AZEC POLIC_CU - AZEC policy master data",
            "file_patterns": [
                "polic_cu.csv"
            ],
            "schema": "polic_cu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9",
                "dateFormat": "yyyy-MM-dd"
            },
            "filters": [],
            "location_type": "reference"
        },
        "prdcap": {
            "description": "PRDCAP - Product capital reference",
            "file_patterns": [
                "prdcap.csv"
            ],
            "schema": "prdcap",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "segmprdt_prdpfa1": {
            "description": "PRDPFA1 - Product segmentation (Pole 1 Agent)",
            "file_patterns": [
                "prdpfa1.csv"
            ],
            "schema": "segmprdt_prdpfa1",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "segmprdt_prdpfa3": {
            "description": "PRDPFA3 - Product segmentation (Pole 3 Courtage)",
            "file_patterns": [
                "prdpfa3.csv"
            ],
            "schema": "segmprdt_prdpfa3",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "table_pt_gest": {
            "description": "Management points (versioned by date, not vision) - Upper_MID classification",
            "file_patterns": [
                "ptgst_*.csv"
            ],
            "schema": "table_pt_gest",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "ptgst_static": {
            "description": "Management points (static version) - REGION and P_Num reference",
            "file_patterns": [
                "ptgst.csv"
            ],
            "schema": "ptgst_static",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "rcentcu_azec": {
            "description": "AZEC RCENTCU - RC Enterprise data",
            "file_patterns": [
                "rcentcu.csv"
            ],
            "schema": "rcentcu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "ref_mig_azec_vs_ims": {
            "description": "AZEC to IMS migration reference mapping",
            "file_patterns": [
                "ref_mig_azec_vs_ims.csv"
            ],
            "schema": "ref_mig_azec_vs_ims",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "rf_fr1_prm_dtl_midcorp_m": {
            "description": "One BI Premium Detail - Construction market reference data",
            "file_patterns": [
                "rf_fr1_prm_dtl_midcorp_m.csv"
            ],
            "schema": "rf_fr1_prm_dtl_midcorp_m",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9",
                "dateFormat": "dd/MM/yyyy"
            },
            "filters": [],
            "location_type": "reference"
        },
        "risteccu_azec": {
            "description": "AZEC RISTECCU - Professional risk data",
            "file_patterns": [
                "risteccu.csv"
            ],
            "schema": "risteccu",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "table_isic_tre_naf": {
            "description": "ISIC reference table with hazard grades and NAF codes",
            "file_patterns": [
                "table_isic_tre_naf_202305.csv"
            ],
            "schema": "table_isic_tre_naf",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "table_segmentation_azec_mml": {
            "description": "AZEC product segmentation reference - MML mapping",
            "file_patterns": [
                "table_segmentation_azec_mml.csv"
            ],
            "schema": "table_segmentation_azec_mml",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        },
        "typrd_2": {
            "description": "SAS_C.TYPRD_2 - Product type reference for AZEC segmentation",
            "file_patterns": [
                "typrd_2.csv"
            ],
            "schema": "typrd_2",
            "read_options": {
                "sep": "|",
                "header": true,
                "encoding": "LATIN9"
            },
            "filters": [],
            "location_type": "reference"
        }
    },
    "components": {
        "ptf_mvt": {
            "description": "Portfolio Movements domain",
            "required_file_groups": [
                "ipf",
                "ipfm99",
                "ird_risk_q45",
                "ird_risk_q46",
                "ird_risk_qan"
            ]
        },
        "capitaux": {
            "description": "Capitaux domain",
            "required_file_groups": [
                "ipf",
                "capitxcu",
                "incendcu"
            ]
        },
        "emissions": {
            "description": "Emissions domain",
            "required_file_groups": [
                "rf_fr1_prm_dtl_midcorp_m"
            ]
        }
    }
}